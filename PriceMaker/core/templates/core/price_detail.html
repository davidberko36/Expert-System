{% extends 'core/base.html' %}

{% block title %}Price Details{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h3>{{ product.name }}</h3>
    </div>
    <div class="card-body">
        <h5>Suggested Price: 
            {% if price_history %}
                GHS{{ price_history.suggested_price }}
            {% else %}
                <span class="text-danger">Price not available</span>
            {% endif %}
        </h5>

        <p><strong>Base Cost:</strong> GHS{{ product.base_cost }}</p>
        <p><strong>Competitor Price:</strong> GHS{{ product.competitor_price }}</p>
        <p><strong>Market Demand:</strong> {{ product.market_demand }}</p>
        <p><strong>Customer WTP:</strong> {{ product.customer_wtp }}</p>
        
        <p><strong>Reasoning:</strong> 
            {% if price_history %}
                {{ price_history.reasoning }}
            {% else %}
                <span class="text-warning">No reasoning available</span>
            {% endif %}
        </p>
        
        <p><strong>Potential Risks:</strong> 
            {% if price_history %}
                {{ price_history.potential_risks }}
            {% else %}
                <span class="text-muted">No risk analysis provided</span>
            {% endif %}
        </p>

        <a href="{% url 'calculate_price' %}" class="btn btn-primary">Calculate New Price</a>
    </div>
</div>
{% endblock %}
